公司一次断电之后，开发使用的mysql无法本地连接，通过Xshell连接到开发服务器上，启动mysql（service mysql restart）失败

查看mysql的log

```java
[ERROR] Can't open the mysql.plugin table. Please run mysql_upgrade to create it.

[ERROR] Fatal error: Can't open and lock privilege tables: Table 'mysql.user' doesn't exist

```

查看mysql配置文件

cat /etc/my.cnf

```java
[mysqld]
character_set_server=utf8mb4
init_connect='SET NAMES utf8mb4'

#

# Remove leading # and set to the amount of RAM for the most important data
# cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.
# innodb_buffer_pool_size = 128M
#
# Remove leading # to turn on a very important data integrity option: logging
# changes to the binary log between backups.
# log_bin
#
# Remove leading # to set options mainly useful for reporting servers.
# The server defaults are faster for transactions and fast SELECTs.
# Adjust sizes as needed, experiment to find the optimal values.
# join_buffer_size = 128M
# sort_buffer_size = 2M
# read_rnd_buffer_size = 2M
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock




# Disabling symbolic-links is recommended to prevent assorted security risks
symbolic-links=0

# Recommended in standard MySQL setup
sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES

[mysqld_safe]
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid
```

可以看到数据存储位置为 /var/lib/mysql


从报错上来看，是由于缺少了mysql.plugin表以及mysql.user表所致的，不过现在连启动都启动不了，
进入到/var/lib/mysql 中查看mysql目录下确实没有以上两个表

最后在网上找到执行以下命令可以解决

mysql_install_db --user=mysql --basedir=/usr/ --ldata=/var/lib/mysql/

执行命令之后在/var/lib/mysql/mysql/ 目录下新建了所需的那几张表
